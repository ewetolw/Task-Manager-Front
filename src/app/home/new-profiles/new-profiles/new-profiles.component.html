<div class="content">
  <h4> Add new user </h4>

<form #newUserForm="ngForm"  (ngSubmit)="addUser(newUserForm)">
<div class="containter" style="width:50%;" >
    <div class="row">
        <div class="col-sm">
            <label for="formGroupExampleInput">First name</label><br>
            <input type="text" class=" form-control-sm" id="firstname" name="firstname" ngModel required >
        </div>
        <div class="col-sm">
            <label for="formGroupExampleInput">Last name</label><br>
            <input type="text" class=" form-control-sm" id="lastname" name = "lastname" ngModel required>
        </div>
        <div class="col-sm">
            <label for="formGroupExampleInput">Role</label><br>
            <select name="role" id="roles" class="form-control form-control-sm" ngModel required>
                <option *ngFor="let role of roles">{{role.value}}</option>
            </select>
        </div>
      </div>
      <div class="row">
          <div class="col-sm">
          <label for="formGroupExampleInput">Username</label><br>
          <input type="text" class=" form-control-sm"  id="username" minlength="5" #username="ngModel" name="username" ngModel required>
          </div>
          <div class="col-sm">
            <label for="formGroupExampleInput">Email</label><br>
            <input type="email" class=" form-control-sm" id="email" name="email" #email="ngModel" email  ngModel required>
          </div>
          <div class="col-sm">
          </div>
        </div>
        <div class="row">
            <div class="col-sm"><br>
                <label for="formGroupExampleInput">Password</label><br>
                <input type="password" class=" form-control-sm" id="password" [(ngModel)]="password" name="password" ngModel required>
            </div>
            <div class="col-sm"><br>
                <label for="formGroupExampleInput">Confirm Password</label><br>
                <input type="password" appConfirmValidator="password" class=" form-control-sm" id="confirmpassword" #confirmPassword="ngModel" name="confirmpassword" ngModel required>

            </div><br>
            <div class="col-sm">
            </div>
          </div>
</div>
<div class="row">
<div class="col-sm">
<br>
<button class="btn" [disabled]="newUserForm.invalid || confirmPassword.errors?.notEqual || confirmPassword.errors?.tooShort || username.errors?.minlength || email.errors?.email" >Create User</button><br>
</div>
</div><br>
<div *ngIf="response === 'Added User'; else elseBlock " class = "col-sm alert alert-success">{{response}}</div>
<ng-template  #elseBlock><div *ngIf="response" class = "col-sm alert alert-danger">{{response}}</div></ng-template>
<div class= "col-sm alert alert-warning" *ngIf="confirmPassword.touched && confirmPassword.errors?.notEqual">
    Passwords don't match.
</div>
<div class= "col-sm alert alert-warning" *ngIf="confirmPassword.touched && confirmPassword.errors?.tooShort">
    Password is too short. Please, write min. 8 characters
</div>
<div class= "col-sm alert alert-warning" *ngIf="username.touched && username.errors?.minlength">
    Username is too short. Please, write min. 5 characters
</div>
<div class= "col-sm alert alert-warning" *ngIf="email.touched && email.errors?.email">
    Email has incorrect format.
</div>
</form>





</div>
